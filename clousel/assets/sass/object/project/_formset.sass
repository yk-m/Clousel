/*
 *  FORMSET
 *    - Base
 *    - Upload
 *    - Edit
 *
 *    * Dependencies
 *        - foundation/variables
 *        - foundation/utility
 *        - utility/list
 *        - component/icon
 */



/*  Base
   ---------------------------------------- */
.p-formset
    max-width: calc_width(6)
    margin: 0 auto

/* ----- Form ----- */
.p-formset__form
    margin: 0 0 $vertical-span
    text-align: right

    input
        &[type=text], &[type=password], &[type=email]
            width: 100%
    label
        width: 100%

/* ----- Header ----- */
.p-formset__header
    padding: $default-gap
    background: $light-gray

    p
        margin: 0

/* ----- Table ----- */
.p-formset__table
    margin: $vertical-span 0
    text-align: left

    th, td
        height: calc_height(1)
        padding: $vertical-span 0

    th
        width: span(2 of 6)
        font-weight: normal
        vertical-align: top

        label
            display: block
            margin: $vertical-span 0

    td
        width: span(4 of 6)

/* ----- Fields ----- */
.p-formset__file,
.p-formset__select,
.p-formset__date,
.p-formset__checkbox
    margin: $vertical-span 0

.p-formset__select,
.p-formset__date
    +breakpoint($screen--smartphone-tablet)
        margin-top: 0

        .c-select
            padding: $vertical-span 0

.p-formset__date
    letter-spacing: -0.5em

    .c-select
        width: 30%
        margin: 0 5% $vertical-span
        letter-spacing: normal

        &:first-child, &:last-child
            margin-left: 0
            margin-right: 0

        &:last-child
            margin-bottom: 0

        +breakpoint($screen--smartphone-tablet)
            width: 100%
            margin-left: 0
            margin-right: 0

.p-formset__checkbox

    label
        cursor: pointer

/* ----- List ----- */
%p-formset__list
    margin: $default-gap 0

    ul
        @extend %u-ul-reset

        li
            margin: 0 0 0 1.5em
            vertical-align: bottom

            &::before
                display: inline-block
                margin: 0 .5em 0 -1.5em

.p-formset__help
    @extend %p-formset__list
    color: $gray

    ul
        li
            &::before
                color: $green
                +icon-minimal($icon-form-help)

.p-formset__errorlist
    @extend %p-formset__list
    color: $red

    ul
        li
            &::before
                color: $red
                +icon-minimal($icon-form-error)

// .p-formset__footer



/*  Upload
   ---------------------------------------- */
.p-formset--upload
    @extend .p-formset

.p-formset--upload__form
    @extend .p-formset__form

.p-formset--upload__table
    @extend .p-formset__table



/*  Edit
   ---------------------------------------- */
.p-formset--edit
    +container

.p-formset--edit__image
    +span(1 of 2)
    +susy-breakpoint($screen--smartphone-tablet, 2)
        +span(2 last)
    margin: 0 0 $vertical-span 0

.p-formset--edit__form
    @extend .p-formset__form
    +span(1 of 2 last)
    +susy-breakpoint($screen--smartphone-tablet, 2)
        +span(2 last)

.p-formset--edit__table
    @extend .p-formset__table

    th
        width: span(1 of 3)

    td
        width: span(2 of 3)
